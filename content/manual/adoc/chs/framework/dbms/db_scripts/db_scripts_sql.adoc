:sourcesdir: ../../../../../source

[[db_scripts_sql]]
===== SQL 脚本的结构

数据库迁移的 SQL 脚本是一组由 “^” 字符分隔的 DDL 和 DML 命令组成的文本文件。这里使用了 “^” 字符，以便 “;” 分隔符可以用来分隔复杂的命令；例如，在创建函数或触发器时。脚本执行机制使用 “^” 分隔符将输入文件拆分为单独的命令，并在独立的事务中执行每个命令。这意味着如果需要的话可以将几条单独的语句（例如，`insert`）组合在一起，用分号分隔，确保它们在同一个事务中执行。

[TIP]
====
“^” 分隔符可以通过使用两个 “^” 来转义。例如，如果要将 `^[0-9\s]+$` 传递给语句，脚本应包含 `^^[0-9\s]+$`。
====

SQL 格式的更新脚本示例:

[source, sql]
----
include::{sourcesdir}/dbms/dbscripts_3.sql[]
----

